<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<div *ngIf="(week$ | async); let week">
  <div fxLayout="row" fxLayoutGap="15px" fxLayoutAlign="center center">
    <div class="col col-2">
      <button mat-icon-button color="primary" style="width: 160px" (click)="navigateToWeek(week.previousWeek)">
        <mat-icon aria-hidden="false">navigate_before</mat-icon> Previous week
      </button>
    </div>
    <div class="col col-8 text-center">
      <h3>Week #{{ week.number }}</h3>
      from {{ week.rangeFrom | date:'dd/MM/yyyy' }} to {{ week.rangeTo | date:'dd/MM/yyyy' }}
    </div>
    <div class="col col-2">
      <button mat-icon-button color="primary" class="float-right" style="width: 160px" (click)="navigateToWeek(week.nextWeek)">
        Next week<mat-icon aria-hidden="false">navigate_next</mat-icon>
      </button>
    </div>
  </div>

  <hr>
<!--  public weekActivities$: Observable<{ day: { day: number, date: number }, activities: Activity[] }[]>;-->
  <div *ngIf="(weekActivities$ | async); let weekActivities">
    <div fxLayout="row" fxLayoutGap="15px" fxLayoutAlign="center center">
      <span *ngFor="let w of weekActivities; let index = index" [appBorder]="w.day.date | date:'dd/MM/yyyy'"  class="col text-center">
        {{ w.day.date | date:'EEEE' }} <br> {{ w.day.date | date:'dd/MM/yyyy' }}
      </span>
    </div>
    <div fxLayout="row" fxLayoutGap="15px" fxLayoutAlign="center center">
      <span *ngFor="let element of listOfActivities$ | async" class="col">
        <ul class="list-group">
          <li class="list-group-item text-center" 
            [appActivityColor]="element"> 
            {{ element | uppercase }}
            <mat-icon *ngIf="element.status === 0" aria-hidden="false" class="float-right">close</mat-icon>
            <mat-icon *ngIf="element.status === 1" aria-hidden="false" class="float-right">done</mat-icon>
            <mat-icon *ngIf="element.status === 2" aria-hidden="false" class="float-right">done</mat-icon>
          </li>
        </ul>
      </span>
<!--      <span *ngFor="let w of weekActivities" class="col">
          <ul class="list-group">
            <li *ngFor="let activity of listOfActivities; let i = index"
              class="list-group-item text-center" 
              [appActivityColor]="{ name: activity, status: 1, planned: 1}"> 
              {{ activity | uppercase }}
              <span *ngFor="let act of w.activities">
                <span *ngIf="act.categoryId === activity">
                  <mat-icon *ngIf="act.state === '1'" aria-hidden="false" class="float-right">done</mat-icon>
                  <mat-icon *ngIf="act.state === '0'" aria-hidden="false" class="float-right">close</mat-icon>
                </span>
              </span>
            </li>
          </ul>
        </span>
      -->      
    </div>
  </div>
</div>  